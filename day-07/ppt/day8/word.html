<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>背单词</title>
</head>
<body>

<script type="text/javascript">
	var data = [],index = 0, currentId=0;
	function init(){
		var str = localStorage.getItem("wordsData");
		data = JSON.parse(str);

		index = data[data.length-1].id || 0;
	}
	function saveWord(en,zh){
		index++;
		var obj = {
			id: data.length,
			addtime:new Date().getTime(),
			en:en,
			zh:zh
		};
		
		data.push(obj);
		var jsonStr = JSON.stringify(data);
		localStorage.setItem("wordsData",jsonStr);
	}

	function search(key,value){
		init();
		var obj,result=[];
		for(var i=0,len= data.length;i<len;i++){
			obj = data[i];
			if(obj[key] === value){
				result.push(obj);
			}
		}
		return result;
	}

	init();


</script>
</body>
</html>